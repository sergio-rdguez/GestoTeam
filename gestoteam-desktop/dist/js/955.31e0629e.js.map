{"version":3,"file":"js/955.31e0629e.js","mappings":"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","sources":["webpack://gestoteam-frontend/./src/pages/Team/TeamPlayers.vue","webpack://gestoteam-frontend/./src/pages/Team/TeamPlayers.vue?d86b"],"sourcesContent":["<template>\r\n  <div class=\"team-players-page\">\r\n    <PageHeader :title=\"teamName || 'Jugadores'\" show-back-button @back=\"goBack\">\r\n      <BaseButton v-if=\"players.length > 0\" @click=\"addPlayer\">\r\n        <i class=\"fa-solid fa-plus\"></i> Añadir Jugador\r\n      </BaseButton>\r\n    </PageHeader>\r\n\r\n    <div v-if=\"loading\">\r\n      <LoadingSpinner message=\"Cargando jugadores...\" />\r\n    </div>\r\n\r\n    <EmptyState\r\n      v-else-if=\"players.length === 0\"\r\n      title=\"Este equipo aún no tiene jugadores\"\r\n      message=\"Añade tu primer jugador para empezar a construir tu plantilla.\"\r\n      icon=\"fa-user-plus\"\r\n    >\r\n      <template #actions>\r\n        <BaseButton @click=\"addPlayer\">\r\n          <i class=\"fa-solid fa-plus\"></i> Añadir primer jugador\r\n        </BaseButton>\r\n      </template>\r\n    </EmptyState>\r\n\r\n    <DataTable\r\n      v-else\r\n      :items=\"players\"\r\n      :columns=\"columns\"\r\n      default-sort-key=\"fullName\"\r\n      @row-click=\"viewPlayerDetails\"\r\n    >\r\n      <template #cell-status=\"{ item }\">\r\n        <span class=\"player-status\" :class=\"item.status.toLowerCase()\">\r\n          {{ item.status }}\r\n        </span>\r\n      </template>\r\n    </DataTable>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport apiClient from \"@/services/api\";\r\nimport DataTable from \"@/components/common/DataTable.vue\";\r\nimport PageHeader from \"@/components/layout/PageHeader.vue\";\r\nimport BaseButton from \"@/components/base/BaseButton.vue\";\r\nimport EmptyState from \"@/components/common/EmptyState.vue\";\r\nimport LoadingSpinner from \"@/components/common/LoadingSpinner.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    DataTable,\r\n    PageHeader,\r\n    BaseButton,\r\n    EmptyState,\r\n    LoadingSpinner,\r\n  },\r\n  data() {\r\n    return {\r\n      teamId: this.$route.params.id,\r\n      teamName: '',\r\n      players: [],\r\n      loading: true,\r\n      columns: [\r\n        { key: 'fullName', label: 'Nombre', sortable: true },\r\n        { key: 'position', label: 'Posición', sortable: true, sortOn: 'positionOrder' },\r\n        { key: 'number', label: 'Dorsal', sortable: true },\r\n        { key: 'status', label: 'Estado', sortable: true },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchPlayers() {\r\n      this.loading = true;\r\n      try {\r\n        // Obtenemos el nombre del equipo y los jugadores en paralelo\r\n        const [teamResponse, playersResponse] = await Promise.all([\r\n          apiClient.get(`/teams/${this.teamId}`),\r\n          apiClient.get(`/players/team/${this.teamId}`)\r\n        ]);\r\n        this.teamName = teamResponse.data.name;\r\n        this.players = playersResponse.data.players;\r\n      } catch (error) {\r\n        console.error(\"Error al cargar los jugadores:\", error);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    viewPlayerDetails(player) {\r\n      this.$router.push({ name: 'PlayerDetails', params: { id: player.id } });\r\n    },\r\n    addPlayer() {\r\n      this.$router.push({ name: 'AddPlayer', params: { teamId: this.teamId } });\r\n    },\r\n    goBack() {\r\n      this.$router.push({ name: 'TeamDetails', params: { id: this.teamId } });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchPlayers();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.player-status {\r\n    font-size: var(--font-size-sm);\r\n    font-weight: var(--font-weight-semibold);\r\n    padding: var(--spacing-1) var(--spacing-3);\r\n    border-radius: 9999px;\r\n    text-transform: capitalize;\r\n    color: var(--color-background-white);\r\n    min-width: 80px;\r\n    text-align: center;\r\n    display: inline-block;\r\n}\r\n.player-status.activo { background-color: var(--color-success); }\r\n.player-status.lesionado { background-color: var(--color-danger); }\r\n.player-status.suspendido { background-color: var(--color-warning); }\r\n</style>","import { render } from \"./TeamPlayers.vue?vue&type=template&id=e1d7614a&scoped=true\"\nimport script from \"./TeamPlayers.vue?vue&type=script&lang=js\"\nexport * from \"./TeamPlayers.vue?vue&type=script&lang=js\"\n\nimport \"./TeamPlayers.vue?vue&type=style&index=0&id=e1d7614a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e1d7614a\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_PageHeader","title","$data","teamName","onBack","$options","goBack","default","_withCtx","players","length","_createBlock","_component_BaseButton","onClick","addPlayer","_cache","_createElementVNode","_createTextVNode","_","_createCommentVNode","loading","_hoisted_2","_component_LoadingSpinner","message","_component_EmptyState","icon","actions","_component_DataTable","items","columns","onRowClick","viewPlayerDetails","item","_normalizeClass","status","toLowerCase","components","DataTable","PageHeader","BaseButton","EmptyState","LoadingSpinner","data","teamId","this","$route","params","id","label","sortable","sortOn","methods","fetchPlayers","teamResponse","playersResponse","Promise","all","apiClient","get","name","error","console","player","$router","push","mounted","__exports__","render"],"sourceRoot":""}