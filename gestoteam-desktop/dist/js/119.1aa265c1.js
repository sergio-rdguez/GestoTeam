"use strict";(self["webpackChunkgestoteam_frontend"]=self["webpackChunkgestoteam_frontend"]||[]).push([[119],{8850:function(e,a,l){l.d(a,{A:function(){return p}});var t=l(6768),d=l(4232);const s=["type","disabled"],n={key:0,class:"spinner"},o={class:"content"};function r(e,a,l,r,u,i){return(0,t.uX)(),(0,t.CE)("button",{type:l.type,class:(0,d.C4)(i.buttonClass),disabled:l.disabled||l.loading},[l.loading?((0,t.uX)(),(0,t.CE)("span",n)):(0,t.Q3)("",!0),l.icon&&!l.loading?((0,t.uX)(),(0,t.CE)("i",{key:1,class:(0,d.C4)(["icon",l.icon])},null,2)):(0,t.Q3)("",!0),(0,t.Lk)("span",o,[(0,t.RG)(e.$slots,"default",{},void 0,!0)])],10,s)}var u={name:"BaseButton",props:{type:{type:String,default:"button"},variant:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},icon:{type:String,default:""}},computed:{buttonClass(){return["btn",`btn-${this.variant}`,{loading:this.loading}]}}},i=l(1241);const c=(0,i.A)(u,[["render",r],["__scopeId","data-v-fac128cc"]]);var p=c},2964:function(e,a,l){l.d(a,{A:function(){return b}});var t=l(6768),d=l(4232);const s={class:"base-card"},n={key:0,class:"card-header"},o={key:0,class:"card-title"},r={class:"card-actions"},u={class:"card-content"};function i(e,a,l,i,c,p){return(0,t.uX)(),(0,t.CE)("div",s,[l.title||e.$slots.header?((0,t.uX)(),(0,t.CE)("div",n,[l.title?((0,t.uX)(),(0,t.CE)("h3",o,(0,d.v_)(l.title),1)):(0,t.Q3)("",!0),(0,t.Lk)("div",r,[(0,t.RG)(e.$slots,"header",{},void 0,!0)])])):(0,t.Q3)("",!0),(0,t.Lk)("div",u,[(0,t.RG)(e.$slots,"default",{},void 0,!0)])])}var c={name:"BaseCard",props:{title:{type:String,default:""}}},p=l(1241);const m=(0,p.A)(c,[["render",i],["__scopeId","data-v-40ece3e8"]]);var b=m},3318:function(e,a,l){l.d(a,{A:function(){return p}});var t=l(6768),d=l(4232);const s={class:"form-group-checkbox"},n=["id","checked","disabled"],o=["for"];function r(e,a,l,r,u,i){return(0,t.uX)(),(0,t.CE)("div",s,[(0,t.Lk)("input",{id:l.id,type:"checkbox",checked:l.modelValue,onChange:a[0]||(a[0]=a=>e.$emit("update:modelValue",a.target.checked)),disabled:l.disabled,class:"base-checkbox"},null,40,n),l.label?((0,t.uX)(),(0,t.CE)("label",{key:0,for:l.id},(0,d.v_)(l.label),9,o)):(0,t.Q3)("",!0)])}var u={name:"BaseCheckbox",props:{modelValue:{type:Boolean,default:!1},label:{type:String,default:""},id:{type:String,default:()=>`checkbox-${Math.random().toString(36).substr(2,9)}`},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"]},i=l(1241);const c=(0,i.A)(u,[["render",r],["__scopeId","data-v-5dabed5f"]]);var p=c},4583:function(e,a,l){l.d(a,{A:function(){return m}});var t=l(6768),d=l(4232);const s={class:"form-group"},n=["for"],o=["id","type","value","placeholder","required","disabled"],r={key:1,class:"error-message"};function u(e,a,l,u,i,c){return(0,t.uX)(),(0,t.CE)("div",s,[l.label?((0,t.uX)(),(0,t.CE)("label",{key:0,for:l.id},(0,d.v_)(l.label),9,n)):(0,t.Q3)("",!0),(0,t.Lk)("input",{id:l.id,type:l.type,value:l.modelValue,onInput:a[0]||(a[0]=a=>e.$emit("update:modelValue",a.target.value)),placeholder:l.placeholder,required:l.required,disabled:l.disabled,class:(0,d.C4)(["base-input",{"has-error":l.error}])},null,42,o),l.error?((0,t.uX)(),(0,t.CE)("p",r,(0,d.v_)(l.error),1)):(0,t.Q3)("",!0)])}var i={name:"BaseInput",props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:""},id:{type:String,default:()=>`input-${Math.random().toString(36).substr(2,9)}`},type:{type:String,default:"text"},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["update:modelValue"]},c=l(1241);const p=(0,c.A)(i,[["render",u],["__scopeId","data-v-1cceb5aa"]]);var m=p},874:function(e,a,l){l.d(a,{A:function(){return c}});var t=l(6768),d=l(4232);const s={class:"loading-container"},n={key:0,class:"loading-message"};function o(e,a,l,o,r,u){return(0,t.uX)(),(0,t.CE)("div",s,[a[0]||(a[0]=(0,t.Lk)("div",{class:"spinner"},null,-1)),l.message?((0,t.uX)(),(0,t.CE)("p",n,(0,d.v_)(l.message),1)):(0,t.Q3)("",!0)])}var r={name:"LoadingSpinner",props:{message:{type:String,default:""},size:{type:String,default:"md"}}},u=l(1241);const i=(0,u.A)(r,[["render",o],["__scopeId","data-v-5053b748"]]);var c=i},5951:function(e,a,l){l.d(a,{A:function(){return m}});var t=l(6768),d=l(4232);const s={class:"page-header"},n={class:"header-main"},o={class:"page-title"},r={class:"header-actions"};function u(e,a,l,u,i,c){return(0,t.uX)(),(0,t.CE)("div",s,[(0,t.Lk)("div",n,[l.showBackButton?((0,t.uX)(),(0,t.CE)("button",{key:0,class:"back-button",onClick:a[0]||(a[0]=a=>e.$emit("back"))},a[1]||(a[1]=[(0,t.Lk)("i",{class:"fa-solid fa-arrow-left"},null,-1),(0,t.Lk)("span",{class:"back-button-text"},"Volver",-1)]))):(0,t.Q3)("",!0),(0,t.Lk)("h2",o,(0,d.v_)(l.title),1)]),(0,t.Lk)("div",r,[(0,t.RG)(e.$slots,"default",{},void 0,!0)])])}var i={name:"PageHeader",props:{title:{type:String,required:!0},showBackButton:{type:Boolean,default:!1}},emits:["back"]},c=l(1241);const p=(0,c.A)(i,[["render",u],["__scopeId","data-v-2a28e4d4"]]);var m=p},7119:function(e,a,l){l.r(a),l.d(a,{default:function(){return _}});l(4114),l(1454);var t=l(6768),d=l(4232),s=l(144),n=l(1387),o=l(4300),r=l(4710),u=l(5951),i=l(2964),c=l(4583),p=l(8850),m=l(3318),b=l(874);const k={class:"stats-manager-container"},v={key:0,class:"loading-container"},y={class:"stats-table-wrapper"},f={class:"stats-table"},g={class:"player-name-col"},h={class:"dorsal"},C={class:"form-actions"};var V={__name:"MatchStatsManager",setup(e){const a=(0,n.lq)(),l=(0,n.rd)(),V=a.params.id,L=a.params.teamId,A=(0,s.KR)([]),_=(0,s.KR)(!0),U=(0,s.KR)(!1),E=async()=>{try{const e=await o.A.get(`/player-match-stats/${V}`);A.value=e.data.map((e=>({...e,playerDorsal:e.playerDorsal||"-",calledUp:e.calledUp??!1,starter:e.starter??!1,minutesPlayed:e.minutesPlayed??0,goals:e.goals??0,assists:e.assists??0,goalsConceded:e.goalsConceded??0,yellowCard:e.yellowCard??!1,redCard:e.redCard??!1})))}catch(e){r.l.showError("No se pudieron cargar las estadísticas.")}finally{_.value=!1}},X=e=>{e.calledUp||(e.starter=!1,e.minutesPlayed=0,e.goals=0,e.assists=0,e.goalsConceded=0,e.yellowCard=!1,e.redCard=!1)},S=async()=>{U.value=!0;try{await o.A.put(`/matches/${V}/stats`,A.value),r.l.showSuccess("Estadísticas guardadas con éxito."),B()}catch(e){}finally{U.value=!1}},B=()=>{l.push({name:"TeamMatches",params:{id:L}})};return(0,t.sV)(E),(e,a)=>((0,t.uX)(),(0,t.CE)("div",k,[(0,t.bF)(u.A,{title:"Gestionar Estadísticas del Partido","show-back-button":"",onBack:B}),_.value?((0,t.uX)(),(0,t.CE)("div",v,[(0,t.bF)(b.A,{message:"Cargando jugadores y estadísticas..."})])):A.value.length>0?((0,t.uX)(),(0,t.Wv)(i.A,{key:1},{default:(0,t.k6)((()=>[(0,t.Lk)("div",y,[(0,t.Lk)("table",f,[a[0]||(a[0]=(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",{class:"player-name-col"},"Jugador"),(0,t.Lk)("th",{class:"status-col"},"Conv."),(0,t.Lk)("th",{class:"status-col"},"Titular"),(0,t.Lk)("th",{class:"input-col"},"Minutos"),(0,t.Lk)("th",{class:"input-col"},"Goles"),(0,t.Lk)("th",{class:"input-col"},"Asist."),(0,t.Lk)("th",{class:"input-col"},"G. Encaj."),(0,t.Lk)("th",{class:"status-col"},[(0,t.Lk)("span",{title:"Tarjeta Amarilla"},"TA")]),(0,t.Lk)("th",{class:"status-col"},[(0,t.Lk)("span",{title:"Tarjeta Roja"},"TR")])])],-1)),(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(A.value,(e=>((0,t.uX)(),(0,t.CE)("tr",{key:e.playerId},[(0,t.Lk)("td",g,[(0,t.Lk)("span",h,(0,d.v_)(e.playerDorsal),1),(0,t.eW)(" "+(0,d.v_)(e.playerFullName),1)]),(0,t.Lk)("td",null,[(0,t.bF)(m.A,{modelValue:e.calledUp,"onUpdate:modelValue":a=>e.calledUp=a,onChange:a=>X(e)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),(0,t.Lk)("td",null,[(0,t.bF)(m.A,{modelValue:e.starter,"onUpdate:modelValue":a=>e.starter=a,disabled:!e.calledUp},null,8,["modelValue","onUpdate:modelValue","disabled"])]),(0,t.Lk)("td",null,[(0,t.bF)(c.A,{modelValue:e.minutesPlayed,"onUpdate:modelValue":a=>e.minutesPlayed=a,modelModifiers:{number:!0},type:"number",min:"0",disabled:!e.calledUp},null,8,["modelValue","onUpdate:modelValue","disabled"])]),(0,t.Lk)("td",null,[(0,t.bF)(c.A,{modelValue:e.goals,"onUpdate:modelValue":a=>e.goals=a,modelModifiers:{number:!0},type:"number",min:"0",disabled:!e.calledUp},null,8,["modelValue","onUpdate:modelValue","disabled"])]),(0,t.Lk)("td",null,[(0,t.bF)(c.A,{modelValue:e.assists,"onUpdate:modelValue":a=>e.assists=a,modelModifiers:{number:!0},type:"number",min:"0",disabled:!e.calledUp},null,8,["modelValue","onUpdate:modelValue","disabled"])]),(0,t.Lk)("td",null,[(0,t.bF)(c.A,{modelValue:e.goalsConceded,"onUpdate:modelValue":a=>e.goalsConceded=a,modelModifiers:{number:!0},type:"number",min:"0",disabled:!e.calledUp},null,8,["modelValue","onUpdate:modelValue","disabled"])]),(0,t.Lk)("td",null,[(0,t.bF)(m.A,{modelValue:e.yellowCard,"onUpdate:modelValue":a=>e.yellowCard=a,disabled:!e.calledUp},null,8,["modelValue","onUpdate:modelValue","disabled"])]),(0,t.Lk)("td",null,[(0,t.bF)(m.A,{modelValue:e.redCard,"onUpdate:modelValue":a=>e.redCard=a,disabled:!e.calledUp},null,8,["modelValue","onUpdate:modelValue","disabled"])])])))),128))])])]),(0,t.Lk)("div",C,[(0,t.bF)(p.A,{onClick:S,loading:U.value,variant:"primary"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(U.value?"Guardando...":"Guardar Cambios"),1)])),_:1},8,["loading"])])])),_:1})):((0,t.uX)(),(0,t.Wv)(i.A,{key:2},{default:(0,t.k6)((()=>a[1]||(a[1]=[(0,t.Lk)("p",null,"No se encontraron jugadores en el equipo para este partido.",-1)]))),_:1}))]))}},L=l(1241);const A=(0,L.A)(V,[["__scopeId","data-v-333f4d44"]]);var _=A}}]);
//# sourceMappingURL=119.1aa265c1.js.map