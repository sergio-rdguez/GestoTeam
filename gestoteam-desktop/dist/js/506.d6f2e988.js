"use strict";(self["webpackChunkgestoteam_frontend"]=self["webpackChunkgestoteam_frontend"]||[]).push([[506],{2964:function(a,t,e){e.d(t,{A:function(){return p}});var s=e(6768),l=e(4232);const i={class:"base-card"},c={key:0,class:"card-header"},r={key:0,class:"card-title"},d={class:"card-actions"},n={class:"card-content"};function o(a,t,e,o,h,u){return(0,s.uX)(),(0,s.CE)("div",i,[e.title||a.$slots.header?((0,s.uX)(),(0,s.CE)("div",c,[e.title?((0,s.uX)(),(0,s.CE)("h3",r,(0,l.v_)(e.title),1)):(0,s.Q3)("",!0),(0,s.Lk)("div",d,[(0,s.RG)(a.$slots,"header",{},void 0,!0)])])):(0,s.Q3)("",!0),(0,s.Lk)("div",n,[(0,s.RG)(a.$slots,"default",{},void 0,!0)])])}var h={name:"BaseCard",props:{title:{type:String,default:""}}},u=e(1241);const m=(0,u.A)(h,[["render",o],["__scopeId","data-v-40ece3e8"]]);var p=m},4202:function(a,t,e){e.r(t),e.d(t,{default:function(){return M}});var s=e(6768),l=e(4232);const i={class:"match-details-page"},c={key:0},r={key:1},d={class:"team-info"},n={class:"team-name"},o={class:"score"},h={class:"goals"},u={class:"goals"},m={class:"team-info opponent"},p={class:"team-name"},k={class:"details-grid"},g={class:"detail-value"},f={class:"detail-value"},v={class:"cards-container"},y={key:0,class:"fa-solid fa-square card yellow"},b={key:1,class:"fa-solid fa-clone card yellow"},L={key:2,class:"fa-solid fa-square card red"};function C(a,t,e,C,_,E){const S=(0,s.g2)("BaseButton"),A=(0,s.g2)("PageHeader"),X=(0,s.g2)("LoadingSpinner"),w=(0,s.g2)("BaseCard"),F=(0,s.g2)("DataTable"),B=(0,s.g2)("EmptyState");return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.bF)(A,{title:E.pageTitle,"show-back-button":"",onBack:E.goBack},{default:(0,s.k6)((()=>[_.match?((0,s.uX)(),(0,s.Wv)(S,{key:0,onClick:E.manageStats,variant:"secondary"},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("i",{class:"fa-solid fa-chart-simple"},null,-1),(0,s.eW)(" Gestionar Estadísticas ")]))),_:1},8,["onClick"])):(0,s.Q3)("",!0),_.match?((0,s.uX)(),(0,s.Wv)(S,{key:1,onClick:E.editMatch},{default:(0,s.k6)((()=>t[1]||(t[1]=[(0,s.Lk)("i",{class:"fa-solid fa-pencil"},null,-1),(0,s.eW)(" Editar Partido ")]))),_:1},8,["onClick"])):(0,s.Q3)("",!0)])),_:1},8,["title","onBack"]),_.loading?((0,s.uX)(),(0,s.CE)("div",c,[(0,s.bF)(X,{message:"Cargando detalles del partido..."})])):(0,s.Q3)("",!0),!_.loading&&_.match?((0,s.uX)(),(0,s.CE)("div",r,[(0,s.bF)(w,{class:"score-card"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",d,[(0,s.Lk)("span",n,(0,l.v_)(_.match.team.name),1)]),(0,s.Lk)("div",o,[(0,s.Lk)("span",h,(0,l.v_)(E.goalsFor),1),t[2]||(t[2]=(0,s.Lk)("span",null,"-",-1)),(0,s.Lk)("span",u,(0,l.v_)(E.goalsAgainst),1)]),(0,s.Lk)("div",m,[(0,s.Lk)("span",p,(0,l.v_)(_.match.opponent),1)])])),_:1}),(0,s.bF)(w,{class:"details-card"},{default:(0,s.k6)((()=>[t[5]||(t[5]=(0,s.Lk)("h2",{class:"section-title"},"Detalles del Partido",-1)),(0,s.Lk)("div",k,[(0,s.Lk)("div",null,[t[3]||(t[3]=(0,s.Lk)("span",{class:"detail-label"},"Fecha",-1)),(0,s.Lk)("span",g,(0,l.v_)(E.formatDate(_.match.date)),1)]),(0,s.Lk)("div",null,[t[4]||(t[4]=(0,s.Lk)("span",{class:"detail-label"},"Ubicación",-1)),(0,s.Lk)("span",f,(0,l.v_)(_.match.location||"No especificada"),1)])])])),_:1}),(0,s.bF)(w,{class:"stats-card"},{default:(0,s.k6)((()=>[t[6]||(t[6]=(0,s.Lk)("h2",{class:"section-title"},"Estadísticas de Jugadores",-1)),E.calledUpPlayers.length>0?((0,s.uX)(),(0,s.Wv)(F,{key:0,items:E.calledUpPlayers,columns:_.playerStatsColumns,"default-sort-key":"starter","default-sort-asc":!1},{"cell-playerFullName":(0,s.k6)((({item:a})=>[(0,s.Lk)("span",{class:(0,l.C4)({starter:a.starter})},(0,l.v_)(a.playerFullName),3)])),"cell-cards":(0,s.k6)((({item:a})=>[(0,s.Lk)("div",v,[a.yellowCard?((0,s.uX)(),(0,s.CE)("i",y)):(0,s.Q3)("",!0),a.doubleYellowCard?((0,s.uX)(),(0,s.CE)("i",b)):(0,s.Q3)("",!0),a.redCard?((0,s.uX)(),(0,s.CE)("i",L)):(0,s.Q3)("",!0)])])),_:1},8,["items","columns"])):((0,s.uX)(),(0,s.Wv)(B,{key:1,title:"Sin datos de jugadores",message:"Añade estadísticas para este partido.",icon:"fa-solid fa-chart-simple","show-border":!1}))])),_:1})])):(0,s.Q3)("",!0)])}e(4114),e(8992),e(4520);var _=e(4300),E=e(5951),S=e(2964),A=e(8850),X=e(874),w=e(8812),F=e(9302),B={components:{PageHeader:E.A,BaseCard:S.A,BaseButton:A.A,LoadingSpinner:X.A,DataTable:w.A,EmptyState:F.A},data(){return{match:null,loading:!0,playerStatsColumns:[{key:"playerFullName",label:"Jugador",sortable:!0},{key:"minutesPlayed",label:"Minutos",sortable:!0},{key:"goals",label:"Goles",sortable:!0},{key:"assists",label:"Asist.",sortable:!0},{key:"cards",label:"Tarjetas",sortable:!1}]}},computed:{pageTitle(){return this.match?`${this.match.team.name} vs ${this.match.opponent}`:"Detalles del Partido"},goalsFor(){return this.match&&this.match.result?this.match.won?this.match.result.split("-")[1]:this.match.result.split("-")[0]:"-"},goalsAgainst(){return this.match&&this.match.result?this.match.won?this.match.result.split("-")[0]:this.match.result.split("-")[1]:"-"},calledUpPlayers(){return this.match&&this.match.playerStats?this.match.playerStats.filter((a=>a.calledUp)):[]}},methods:{async fetchMatchDetails(){this.loading=!0;try{const a=this.$route.params.id,t=await _.A.get(`/matches/details/${a}`);this.match=t.data}catch(a){console.error("Error al cargar los detalles del partido:",a)}finally{this.loading=!1}},formatDate(a){if(!a)return"Fecha no disponible";const t={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(a).toLocaleString("es-ES",t)},editMatch(){this.$router.push({name:"EditMatch",params:{id:this.match.id,teamId:this.match.team.id}})},manageStats(){this.$router.push({name:"ManageMatchStats",params:{id:this.match.id,teamId:this.match.team.id}})},goBack(){this.match?this.$router.push({name:"TeamMatches",params:{id:this.match.team.id}}):this.$router.push({name:"Teams"})}},mounted(){this.fetchMatchDetails()}},$=e(1241);const D=(0,$.A)(B,[["render",C],["__scopeId","data-v-58810e7b"]]);var M=D}}]);
//# sourceMappingURL=506.d6f2e988.js.map