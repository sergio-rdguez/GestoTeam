"use strict";(self["webpackChunkgestoteam_frontend"]=self["webpackChunkgestoteam_frontend"]||[]).push([[387],{8850:function(e,a,t){t.d(a,{A:function(){return p}});var o=t(6768),r=t(4232);const l=["type","disabled"],i={key:0,class:"spinner"},d={class:"content"};function s(e,a,t,s,n,u){return(0,o.uX)(),(0,o.CE)("button",{type:t.type,class:(0,r.C4)(u.buttonClass),disabled:t.disabled||t.loading},[t.loading?((0,o.uX)(),(0,o.CE)("span",i)):(0,o.Q3)("",!0),t.icon&&!t.loading?((0,o.uX)(),(0,o.CE)("i",{key:1,class:(0,r.C4)(["icon",t.icon])},null,2)):(0,o.Q3)("",!0),(0,o.Lk)("span",d,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])],10,l)}var n={name:"BaseButton",props:{type:{type:String,default:"button"},variant:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},icon:{type:String,default:""}},computed:{buttonClass(){return["btn",`btn-${this.variant}`,{loading:this.loading}]}}},u=t(1241);const c=(0,u.A)(n,[["render",s],["__scopeId","data-v-fac128cc"]]);var p=c},2964:function(e,a,t){t.d(a,{A:function(){return f}});var o=t(6768),r=t(4232);const l={class:"base-card"},i={key:0,class:"card-header"},d={key:0,class:"card-title"},s={class:"card-actions"},n={class:"card-content"};function u(e,a,t,u,c,p){return(0,o.uX)(),(0,o.CE)("div",l,[t.title||e.$slots.header?((0,o.uX)(),(0,o.CE)("div",i,[t.title?((0,o.uX)(),(0,o.CE)("h3",d,(0,r.v_)(t.title),1)):(0,o.Q3)("",!0),(0,o.Lk)("div",s,[(0,o.RG)(e.$slots,"header",{},void 0,!0)])])):(0,o.Q3)("",!0),(0,o.Lk)("div",n,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])])}var c={name:"BaseCard",props:{title:{type:String,default:""}}},p=t(1241);const m=(0,p.A)(c,[["render",u],["__scopeId","data-v-40ece3e8"]]);var f=m},4583:function(e,a,t){t.d(a,{A:function(){return m}});var o=t(6768),r=t(4232);const l={class:"form-group"},i=["for"],d=["id","type","value","placeholder","required","disabled"],s={key:1,class:"error-message"};function n(e,a,t,n,u,c){return(0,o.uX)(),(0,o.CE)("div",l,[t.label?((0,o.uX)(),(0,o.CE)("label",{key:0,for:t.id},(0,r.v_)(t.label),9,i)):(0,o.Q3)("",!0),(0,o.Lk)("input",{id:t.id,type:t.type,value:t.modelValue,onInput:a[0]||(a[0]=a=>e.$emit("update:modelValue",a.target.value)),placeholder:t.placeholder,required:t.required,disabled:t.disabled,class:(0,r.C4)(["base-input",{"has-error":t.error}])},null,42,d),t.error?((0,o.uX)(),(0,o.CE)("p",s,(0,r.v_)(t.error),1)):(0,o.Q3)("",!0)])}var u={name:"BaseInput",props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:""},id:{type:String,default:()=>`input-${Math.random().toString(36).substr(2,9)}`},type:{type:String,default:"text"},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["update:modelValue"]},c=t(1241);const p=(0,c.A)(u,[["render",n],["__scopeId","data-v-1cceb5aa"]]);var m=p},4952:function(e,a,t){t.d(a,{A:function(){return g}});var o=t(6768),r=t(4232);const l={class:"form-group"},i=["for"],d=["id","value","disabled"],s={key:0,disabled:"",value:""},n=["value"],u={key:1,class:"error-message"};function c(e,a,t,c,p,m){return(0,o.uX)(),(0,o.CE)("div",l,[t.label?((0,o.uX)(),(0,o.CE)("label",{key:0,for:t.id},(0,r.v_)(t.label),9,i)):(0,o.Q3)("",!0),(0,o.Lk)("select",{id:t.id,value:t.modelValue,onChange:a[0]||(a[0]=a=>e.$emit("update:modelValue",a.target.value)),disabled:t.disabled,class:(0,r.C4)(["base-select",{"has-error":t.error}])},[t.placeholder?((0,o.uX)(),(0,o.CE)("option",s,(0,r.v_)(t.placeholder),1)):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.options,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.value,value:e.value},(0,r.v_)(e.text),9,n)))),128))],42,d),t.error?((0,o.uX)(),(0,o.CE)("p",u,(0,r.v_)(t.error),1)):(0,o.Q3)("",!0)])}var p={name:"BaseSelect",props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:""},id:{type:String,default:()=>`select-${Math.random().toString(36).substr(2,9)}`},options:{type:Array,required:!0},placeholder:{type:String,default:"Selecciona una opción"},disabled:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["update:modelValue"]},m=t(1241);const f=(0,m.A)(p,[["render",c],["__scopeId","data-v-537a3e9c"]]);var g=f},5951:function(e,a,t){t.d(a,{A:function(){return m}});var o=t(6768),r=t(4232);const l={class:"page-header"},i={class:"header-main"},d={class:"page-title"},s={class:"header-actions"};function n(e,a,t,n,u,c){return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",i,[t.showBackButton?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"back-button",onClick:a[0]||(a[0]=a=>e.$emit("back"))},a[1]||(a[1]=[(0,o.Lk)("i",{class:"fa-solid fa-arrow-left"},null,-1),(0,o.Lk)("span",{class:"back-button-text"},"Volver",-1)]))):(0,o.Q3)("",!0),(0,o.Lk)("h2",d,(0,r.v_)(t.title),1)]),(0,o.Lk)("div",s,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])])}var u={name:"PageHeader",props:{title:{type:String,required:!0},showBackButton:{type:Boolean,default:!1}},emits:["back"]},c=t(1241);const p=(0,c.A)(u,[["render",n],["__scopeId","data-v-2a28e4d4"]]);var m=p},4387:function(e,a,t){t.r(a),t.d(a,{default:function(){return q}});var o=t(6768),r=t(5130),l=t(4232);const i={class:"form-page-container"},d={class:"form-grid"},s={class:"form-actions"};function n(e,a,t,n,u,c){const p=(0,o.g2)("PageHeader"),m=(0,o.g2)("BaseInput"),f=(0,o.g2)("BaseSelect"),g=(0,o.g2)("BaseTextarea"),v=(0,o.g2)("BaseButton"),b=(0,o.g2)("BaseCard");return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.bF)(p,{title:u.isEditMode?"Editar Equipo":"Añadir Nuevo Equipo","show-back-button":"",onBack:c.goBack},null,8,["title","onBack"]),(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.Lk)("form",{onSubmit:a[6]||(a[6]=(0,r.D$)(((...e)=>c.submitForm&&c.submitForm(...e)),["prevent"]))},[(0,o.Lk)("div",d,[(0,o.bF)(m,{modelValue:u.team.name,"onUpdate:modelValue":a[0]||(a[0]=e=>u.team.name=e),label:"Nombre del Equipo",id:"name",placeholder:"Ej: GestoTeam Senior",required:""},null,8,["modelValue"]),(0,o.bF)(f,{modelValue:u.team.category,"onUpdate:modelValue":a[1]||(a[1]=e=>u.team.category=e),label:"Categoría",id:"category",options:c.categoryOptions,required:""},null,8,["modelValue","options"]),(0,o.bF)(m,{modelValue:u.team.division,"onUpdate:modelValue":a[2]||(a[2]=e=>u.team.division=e),label:"División",id:"division",placeholder:"Ej: Primera Aficionados",required:""},null,8,["modelValue"]),(0,o.bF)(m,{modelValue:u.team.field,"onUpdate:modelValue":a[3]||(a[3]=e=>u.team.field=e),label:"Campo",id:"field",placeholder:"Ej: Ciudad Deportiva Gesto"},null,8,["modelValue"]),(0,o.bF)(m,{modelValue:u.team.location,"onUpdate:modelValue":a[4]||(a[4]=e=>u.team.location=e),label:"Ubicación",id:"location",placeholder:"Ej: Madrid"},null,8,["modelValue"]),(0,o.bF)(g,{modelValue:u.team.description,"onUpdate:modelValue":a[5]||(a[5]=e=>u.team.description=e),label:"Descripción",id:"description",placeholder:"Anotaciones sobre el equipo (opcional)",rows:5,class:"form-grid-span-2"},null,8,["modelValue"])]),(0,o.Lk)("div",s,[(0,o.bF)(v,{type:"submit",loading:u.isSaving,variant:"primary"},{default:(0,o.k6)((()=>[(0,o.eW)((0,l.v_)(u.isSaving?"Guardando...":u.isEditMode?"Guardar Cambios":"Crear Equipo"),1)])),_:1},8,["loading"])])],32)])),_:1})])}t(4114),t(1454);var u=t(4300),c=t(4710),p=t(5951),m=t(2964),f=t(4583),g=t(4952);const v={class:"form-group"},b=["for"],h=["id","value","placeholder","required","disabled","rows"],y={key:1,class:"error-message"};function k(e,a,t,r,i,d){return(0,o.uX)(),(0,o.CE)("div",v,[t.label?((0,o.uX)(),(0,o.CE)("label",{key:0,for:t.id},(0,l.v_)(t.label),9,b)):(0,o.Q3)("",!0),(0,o.Lk)("textarea",{id:t.id,value:t.modelValue,onInput:a[0]||(a[0]=a=>e.$emit("update:modelValue",a.target.value)),placeholder:t.placeholder,required:t.required,disabled:t.disabled,rows:t.rows,class:(0,l.C4)(["base-textarea",{"has-error":t.error}])},null,42,h),t.error?((0,o.uX)(),(0,o.CE)("p",y,(0,l.v_)(t.error),1)):(0,o.Q3)("",!0)])}var C={name:"BaseTextarea",props:{modelValue:{type:String,default:""},label:{type:String,default:""},id:{type:String,default:()=>`textarea-${Math.random().toString(36).substr(2,9)}`},rows:{type:Number,default:4},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["update:modelValue"]},E=t(1241);const S=(0,E.A)(C,[["render",k],["__scopeId","data-v-52a0628c"]]);var B=S,V=t(8850),_={components:{PageHeader:p.A,BaseCard:m.A,BaseInput:f.A,BaseSelect:g.A,BaseTextarea:B,BaseButton:V.A},data(){return{team:{name:"",field:"",location:"",division:"",category:"",description:""},categories:[],isEditMode:!1,isSaving:!1}},computed:{categoryOptions(){return this.categories.map((e=>({value:e.code,text:e.description})))}},methods:{async fetchTeam(){try{const e=await u.A.get(`/teams/${this.$route.params.id}`);this.team=e.data}catch(e){c.l.showError("No se pudo cargar el equipo.")}},async fetchCategories(){try{const e=await u.A.get("/enums/categories");this.categories=e.data,!this.isEditMode&&this.categories.length>0&&(this.team.category=this.categories[0].code)}catch(e){c.l.showError("No se pudieron cargar las categorías.")}},async submitForm(){this.isSaving=!0;try{let e;if(this.isEditMode){const a=await u.A.put(`/teams/${this.$route.params.id}`,this.team);e=a.data,c.l.showSuccess("Equipo actualizado con éxito.")}else{const a=await u.A.post("/teams",this.team);e=a.data,c.l.showSuccess("Equipo creado con éxito.")}this.$router.push({name:"TeamDetails",params:{id:e.id}})}catch(e){}finally{this.isSaving=!1}},goBack(){this.$router.push({name:"Teams"})}},created(){this.isEditMode=!!this.$route.params.id,this.fetchCategories(),this.isEditMode&&this.fetchTeam()}};const A=(0,E.A)(_,[["render",n],["__scopeId","data-v-7d5f40b6"]]);var q=A}}]);
//# sourceMappingURL=387.cd0e620b.js.map