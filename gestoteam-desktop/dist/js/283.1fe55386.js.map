{"version":3,"file":"js/283.1fe55386.js","mappings":"iNACOA,MAAM,qB,GADbC,IAAA,G,gLACEC,EAAAA,EAAAA,IA6CM,MA7CNC,EA6CM,EA5CJC,EAAAA,EAAAA,IAIaC,EAAA,CAJAC,MAAOC,EAAAC,UAAY,WAAY,sBAAkBC,OAAMC,EAAAC,Q,CAFxEC,SAAAC,EAAAA,EAAAA,KAGM,IAEa,CAFKN,EAAAO,SAAWP,EAAAO,QAAQC,OAAS,IAAH,WAA3CC,EAAAA,EAAAA,IAEaC,EAAA,CALnBhB,IAAA,EAGwDiB,QAAOR,EAAAS,c,CAH/DP,SAAAC,EAAAA,EAAAA,KAIQ,IAAgCO,EAAA,KAAAA,EAAA,KAAhCC,EAAAA,EAAAA,IAAgC,KAA7BrB,MAAM,oBAAkB,UAJnCsB,EAAAA,EAAAA,IAIwC,wBAJxCC,EAAA,G,iBAAAC,EAAAA,EAAAA,IAAA,UAAAD,EAAA,G,sBAQehB,EAAAkB,UAAO,WAAlBvB,EAAAA,EAAAA,IAEM,MAVVwB,EAAA,EASMtB,EAAAA,EAAAA,IAAiDuB,EAAA,CAAjCC,QAAQ,4BAIZrB,EAAAO,SAA8B,IAAnBP,EAAAO,QAAQC,S,WAYjCC,EAAAA,EAAAA,IAmBYa,EAAA,CA5ChB5B,IAAA,EA2BO6B,MAAOvB,EAAAO,QACPiB,QAASxB,EAAAwB,QACV,mBAAiB,OAChB,oBAAkB,EAClBC,WAAWtB,EAAAuB,kB,CAED,iBAAapB,EAAAA,EAAAA,KACtB,EAD0BqB,UAAI,EAjCtCZ,EAAAA,EAAAA,KAAAa,EAAAA,EAAAA,IAkCWD,EAAKE,UAAQ,MAEP,eAAWvB,EAAAA,EAAAA,KACpB,EADwBqB,UAAI,EAC5Bb,EAAAA,EAAAA,IAEO,QAFDrB,OArCdqC,EAAAA,EAAAA,IAAA,CAqCoB,eAAuB3B,EAAA4B,eAAeJ,O,QAC7CxB,EAAA6B,aAAaL,IAAI,MAGb,aAASrB,EAAAA,EAAAA,KAClB,EADsBqB,UAAI,EAzClCZ,EAAAA,EAAAA,KAAAa,EAAAA,EAAAA,IA0CWzB,EAAA8B,WAAWN,EAAKO,OAAI,MA1C/BlB,EAAA,G,uCAa2C,WADvCP,EAAAA,EAAAA,IAWa0B,EAAA,CAvBjBzC,IAAA,EAcMK,MAAM,8BACNsB,QAAQ,yEACRe,KAAK,6B,CAEMC,SAAO/B,EAAAA,EAAAA,KAChB,IAEa,EAFbT,EAAAA,EAAAA,IAEaa,EAAA,CAFAC,QAAOR,EAAAS,cAAY,CAnBxCP,SAAAC,EAAAA,EAAAA,KAoBU,IAAgCO,EAAA,KAAAA,EAAA,KAAhCC,EAAAA,EAAAA,IAAgC,KAA7BrB,MAAM,oBAAkB,UApBrCsB,EAAAA,EAAAA,IAoB0C,+BApB1CC,EAAA,G,kBAAAA,EAAA,M,wEAyDA,GACEsB,WAAY,CACVC,UAAS,IACTC,WAAU,IACVC,WAAU,IACVC,WAAU,IACVC,eAAcA,EAAAA,GAEhBC,IAAAA,GACE,MAAO,CACLC,OAAQC,KAAKC,OAAOC,OAAOC,GAC3BhD,SAAU,GACVM,QAAS,GACTW,SAAS,EACTM,QAAS,CACP,CAAE9B,IAAK,OAAQwD,MAAO,QAASC,UAAU,GACzC,CAAEzD,IAAK,WAAYwD,MAAO,QAASC,UAAU,GAC7C,CAAEzD,IAAK,SAAUwD,MAAO,YAAaC,UAAU,GAC/C,CAAEzD,IAAK,WAAYwD,MAAO,YAAaC,UAAU,IAGvD,EACAC,QAAS,CACP,kBAAMC,GACJP,KAAK5B,SAAU,EACf,IACE,MAAOoC,EAAcC,SAAyBC,QAAQC,IAAI,CACxDC,EAAAA,EAAUC,IAAI,UAAUb,KAAKD,UAC7Ba,EAAAA,EAAUC,IAAI,iBAAiBb,KAAKD,YAEtCC,KAAK7C,SAAWqD,EAAaV,KAAKgB,KAClCd,KAAKvC,QAAUsD,MAAMC,QAAQP,EAAgBX,MAAQW,EAAgBX,KAAO,EAC9E,CAAE,MAAOmB,GACPC,QAAQD,MAAM,gCAAiCA,GAC/CjB,KAAKvC,QAAU,EACjB,CAAE,QACAuC,KAAK5B,SAAU,CACjB,CACF,EACAc,YAAAA,CAAaiC,GACT,OAAOA,EAAMC,QAAU,WAC3B,EACAnC,cAAAA,CAAekC,GACX,IAAKA,EAAME,UAAW,MAAO,UAC7B,GAAIF,EAAMG,IAAK,MAAO,MAGtB,GAAIH,EAAMC,OAAQ,CACd,MAAMG,EAASJ,EAAMC,OAAOI,MAAM,KAClC,GAAsB,IAAlBD,EAAO7D,QAAgB6D,EAAO,KAAOA,EAAO,GAC5C,MAAO,MAEf,CAEA,MAAO,MACX,EACApC,UAAAA,CAAWsC,GACT,IAAKA,EAAY,MAAO,GACxB,MAAMC,EAAU,CAAEC,KAAM,UAAWC,MAAO,UAAWC,IAAK,WAC1D,OAAO,IAAIC,KAAKL,GAAYM,mBAAmB,QAASL,EAC1D,EACA9C,gBAAAA,CAAiBuC,GACfnB,KAAKgC,QAAQC,KAAK,CAAEnB,KAAM,eAAgBZ,OAAQ,CAAEC,GAAIgB,EAAMhB,KAChE,EACArC,YAAAA,GACEkC,KAAKgC,QAAQC,KAAK,CAAEnB,KAAM,WAAYZ,OAAQ,CAAEH,OAAQC,KAAKD,SAC/D,EACAzC,MAAAA,GACE0C,KAAKgC,QAAQC,KAAK,CAAEnB,KAAM,cAAeZ,OAAQ,CAAEC,GAAIH,KAAKD,SAC9D,GAEFmC,OAAAA,GACElC,KAAKO,cACP,G,UC3HF,MAAM4B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://gestoteam-frontend/./src/pages/Team/Matches/TeamMatches.vue","webpack://gestoteam-frontend/./src/pages/Team/Matches/TeamMatches.vue?fc62"],"sourcesContent":["<template>\r\n  <div class=\"team-matches-page\">\r\n    <PageHeader :title=\"teamName || 'Partidos'\" show-back-button @back=\"goBack\">\r\n      <BaseButton v-if=\"matches && matches.length > 0\" @click=\"goToAddMatch\">\r\n        <i class=\"fa-solid fa-plus\"></i> Añadir Partido\r\n      </BaseButton>\r\n    </PageHeader>\r\n\r\n    <div v-if=\"loading\">\r\n      <LoadingSpinner message=\"Cargando partidos...\" />\r\n    </div>\r\n\r\n    <EmptyState\r\n      v-else-if=\"!matches || matches.length === 0\"\r\n      title=\"No hay partidos registrados\"\r\n      message=\"Registra tu primer partido para llevar un seguimiento de la temporada.\"\r\n      icon=\"fa-solid fa-calendar-plus\"\r\n    >\r\n      <template #actions>\r\n        <BaseButton @click=\"goToAddMatch\">\r\n          <i class=\"fa-solid fa-plus\"></i> Añadir primer partido\r\n        </BaseButton>\r\n      </template>\r\n    </EmptyState>\r\n    \r\n    <DataTable\r\n      v-else\r\n      :items=\"matches\"\r\n      :columns=\"columns\"\r\n      default-sort-key=\"date\"\r\n      :default-sort-asc=\"false\"\r\n      @row-click=\"viewMatchDetails\"\r\n    >\r\n      <template #cell-opponent=\"{ item }\">\r\n        {{ item.opponent }}\r\n      </template>\r\n      <template #cell-result=\"{ item }\">\r\n        <span class=\"match-result\" :class=\"getResultClass(item)\">\r\n          {{ formatResult(item) }}\r\n        </span>\r\n      </template>\r\n      <template #cell-date=\"{ item }\">\r\n        {{ formatDate(item.date) }}\r\n      </template>\r\n    </DataTable>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport apiClient from \"@/services/api\";\r\nimport DataTable from \"@/components/common/DataTable.vue\";\r\nimport PageHeader from \"@/components/layout/PageHeader.vue\";\r\nimport BaseButton from \"@/components/base/BaseButton.vue\";\r\nimport EmptyState from \"@/components/common/EmptyState.vue\";\r\nimport LoadingSpinner from \"@/components/common/LoadingSpinner.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    DataTable,\r\n    PageHeader,\r\n    BaseButton,\r\n    EmptyState,\r\n    LoadingSpinner,\r\n  },\r\n  data() {\r\n    return {\r\n      teamId: this.$route.params.id,\r\n      teamName: '',\r\n      matches: [],\r\n      loading: true,\r\n      columns: [\r\n        { key: 'date', label: 'Fecha', sortable: true },\r\n        { key: 'opponent', label: 'Rival', sortable: true },\r\n        { key: 'result', label: 'Resultado', sortable: false },\r\n        { key: 'location', label: 'Ubicación', sortable: true },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchMatches() {\r\n      this.loading = true;\r\n      try {\r\n        const [teamResponse, matchesResponse] = await Promise.all([\r\n          apiClient.get(`/teams/${this.teamId}`),\r\n          apiClient.get(`/matches/team/${this.teamId}`)\r\n        ]);\r\n        this.teamName = teamResponse.data.name;\r\n        this.matches = Array.isArray(matchesResponse.data) ? matchesResponse.data : [];\r\n      } catch (error) {\r\n        console.error(\"Error al cargar los partidos:\", error);\r\n        this.matches = [];\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    formatResult(match) {\r\n        return match.result || 'Pendiente';\r\n    },\r\n    getResultClass(match) {\r\n        if (!match.finalized) return 'pending';\r\n        if (match.won) return 'win';\r\n\r\n        // Check for a draw (e.g., \"1-1\", \"2-2\")\r\n        if (match.result) {\r\n            const scores = match.result.split('-');\r\n            if (scores.length === 2 && scores[0] === scores[1]) {\r\n                return 'draw';\r\n            }\r\n        }\r\n        \r\n        return 'loss';\r\n    },\r\n    formatDate(dateString) {\r\n      if (!dateString) return '';\r\n      const options = { year: 'numeric', month: '2-digit', day: '2-digit' };\r\n      return new Date(dateString).toLocaleDateString('es-ES', options);\r\n    },\r\n    viewMatchDetails(match) {\r\n      this.$router.push({ name: 'MatchDetails', params: { id: match.id } });\r\n    },\r\n    goToAddMatch() {\r\n      this.$router.push({ name: 'AddMatch', params: { teamId: this.teamId } });\r\n    },\r\n    goBack() {\r\n      this.$router.push({ name: 'TeamDetails', params: { id: this.teamId } });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchMatches();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.match-result {\r\n    font-weight: var(--font-weight-bold);\r\n    padding: var(--spacing-1) var(--spacing-3);\r\n    border-radius: 9999px;\r\n    min-width: 80px;\r\n    text-align: center;\r\n    display: inline-block;\r\n    color: var(--color-background-white);\r\n}\r\n.match-result.win { background-color: var(--color-success); }\r\n.match-result.loss { background-color: var(--color-danger); }\r\n.match-result.draw { background-color: var(--color-warning); }\r\n.match-result.pending { background-color: var(--color-gray-400); }\r\n</style>","import { render } from \"./TeamMatches.vue?vue&type=template&id=7ee529ec&scoped=true\"\nimport script from \"./TeamMatches.vue?vue&type=script&lang=js\"\nexport * from \"./TeamMatches.vue?vue&type=script&lang=js\"\n\nimport \"./TeamMatches.vue?vue&type=style&index=0&id=7ee529ec&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ee529ec\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_PageHeader","title","$data","teamName","onBack","$options","goBack","default","_withCtx","matches","length","_createBlock","_component_BaseButton","onClick","goToAddMatch","_cache","_createElementVNode","_createTextVNode","_","_createCommentVNode","loading","_hoisted_2","_component_LoadingSpinner","message","_component_DataTable","items","columns","onRowClick","viewMatchDetails","item","_toDisplayString","opponent","_normalizeClass","getResultClass","formatResult","formatDate","date","_component_EmptyState","icon","actions","components","DataTable","PageHeader","BaseButton","EmptyState","LoadingSpinner","data","teamId","this","$route","params","id","label","sortable","methods","fetchMatches","teamResponse","matchesResponse","Promise","all","apiClient","get","name","Array","isArray","error","console","match","result","finalized","won","scores","split","dateString","options","year","month","day","Date","toLocaleDateString","$router","push","mounted","__exports__","render"],"sourceRoot":""}