"use strict";(self["webpackChunkgestoteam_frontend"]=self["webpackChunkgestoteam_frontend"]||[]).push([[955],{355:function(a,e,t){t.r(e),t.d(e,{default:function(){return h}});var s=t(6768),l=t(4232);const r={class:"team-players-page"},o={key:0};function n(a,e,t,n,i,d){const u=(0,s.g2)("BaseButton"),m=(0,s.g2)("PageHeader"),c=(0,s.g2)("LoadingSpinner"),p=(0,s.g2)("EmptyState"),g=(0,s.g2)("DataTable");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.bF)(m,{title:i.teamName||"Jugadores","show-back-button":"",onBack:d.goBack},{default:(0,s.k6)((()=>[i.players.length>0?((0,s.uX)(),(0,s.Wv)(u,{key:0,onClick:d.addPlayer},{default:(0,s.k6)((()=>e[0]||(e[0]=[(0,s.Lk)("i",{class:"fa-solid fa-plus"},null,-1),(0,s.eW)(" Añadir Jugador ")]))),_:1},8,["onClick"])):(0,s.Q3)("",!0)])),_:1},8,["title","onBack"]),i.loading?((0,s.uX)(),(0,s.CE)("div",o,[(0,s.bF)(c,{message:"Cargando jugadores..."})])):0===i.players.length?((0,s.uX)(),(0,s.Wv)(p,{key:1,title:"Este equipo aún no tiene jugadores",message:"Añade tu primer jugador para empezar a construir tu plantilla.",icon:"fa-user-plus"},{actions:(0,s.k6)((()=>[(0,s.bF)(u,{onClick:d.addPlayer},{default:(0,s.k6)((()=>e[1]||(e[1]=[(0,s.Lk)("i",{class:"fa-solid fa-plus"},null,-1),(0,s.eW)(" Añadir primer jugador ")]))),_:1},8,["onClick"])])),_:1})):((0,s.uX)(),(0,s.Wv)(g,{key:2,items:i.players,columns:i.columns,"default-sort-key":"fullName",onRowClick:d.viewPlayerDetails},{"cell-status":(0,s.k6)((({item:a})=>[(0,s.Lk)("span",{class:(0,l.C4)(["player-status",a.status.toLowerCase()])},(0,l.v_)(a.status),3)])),_:1},8,["items","columns","onRowClick"]))])}t(4114);var i=t(4300),d=t(8812),u=t(5951),m=t(8850),c=t(9302),p=t(874),g={components:{DataTable:d.A,PageHeader:u.A,BaseButton:m.A,EmptyState:c.A,LoadingSpinner:p.A},data(){return{teamId:this.$route.params.id,teamName:"",players:[],loading:!0,columns:[{key:"fullName",label:"Nombre",sortable:!0},{key:"position",label:"Posición",sortable:!0,sortOn:"positionOrder"},{key:"number",label:"Dorsal",sortable:!0},{key:"status",label:"Estado",sortable:!0}]}},methods:{async fetchPlayers(){this.loading=!0;try{const[a,e]=await Promise.all([i.A.get(`/teams/${this.teamId}`),i.A.get(`/players/team/${this.teamId}`)]);this.teamName=a.data.name,this.players=e.data.players}catch(a){console.error("Error al cargar los jugadores:",a)}finally{this.loading=!1}},viewPlayerDetails(a){this.$router.push({name:"PlayerDetails",params:{id:a.id}})},addPlayer(){this.$router.push({name:"AddPlayer",params:{teamId:this.teamId}})},goBack(){this.$router.push({name:"TeamDetails",params:{id:this.teamId}})}},mounted(){this.fetchPlayers()}},k=t(1241);const y=(0,k.A)(g,[["render",n],["__scopeId","data-v-e1d7614a"]]);var h=y}}]);
//# sourceMappingURL=955.31e0629e.js.map